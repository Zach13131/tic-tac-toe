(()=>{"use strict";function t(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}const e=["X","O"],n=["Indie Flower","Just Another Hand","Kalam","Chewy","Dekko","Short Stack"];let a=0;function r(t){a=t}const o=document.querySelector(".main__game-block"),l=document.querySelectorAll(".main__game-item"),i=Array.from(l),s=[i.slice(0,3),i.slice(3,6),i.slice(6,9)],c=document.querySelector(".main__btn");console.log("file: StartGame.js:5 ~ index:",a);const u=e=>t(0,1)?e.toLowerCase():e;function d(i){if(!i.target.className.split(" ").includes("main__game-item")&&"P"!==i.target.tagName)return;if(i.target.getAttribute("data-icon")||i.target.parentNode.getAttribute("data-icon")){let t=i.target;return i.target.parentNode.getAttribute("data-icon")&&(t=i.target.parentNode),t.classList.add("blocked"),void setTimeout((()=>{t.classList.remove("blocked")}),1e3)}const c=t(0,n.length-1);i.target.style=`font-family : ${n[c]}`,i.target.setAttribute("data-icon",e[a]),i.target.innerHTML=`<p class="main__text ">${u(e[a])}</p>`,r(a?0:1),function([t,e]){if(t){o.removeEventListener("click",d),document.querySelector(".main__result").textContent=`WINNER : "${e}"!!!`,l.forEach((t=>{t.classList.add("blur")}));for(let e=0;e<t.length;e++){const n=t[e];setTimeout((()=>{s[n[0]][n[1]].classList.add("win")}),200*e)}}}(function(t){let e,n=!1;const a=new Set([t[0][0],t[1][1],t[2][2]]),r=new Set([t[0][2],t[1][1],t[2][0]]);for(let a=0,r=2;a<3;a++,r--){const r=new Set(t[a]),o=new Set([t[0][a],t[1][a],t[2][a]]);1!==r.size||r.has(null)||(n=[[a,0],[a,1],[a,2]],e=r.values().next().value),1!==o.size||o.has(null)||(n=[[0,a],[1,a],[2,a]],e=o.values().next().value)}return 1!==a.size||a.has(null)||(n=[[0,0],[1,1],[2,2]],e=a.values().next().value),1!==r.size||r.has(null)||(n=[[0,2],[1,1],[2,0]],e=r.values().next().value),[n,e]}(s.map((t=>t.map((t=>t.getAttribute("data-icon")))))))}o.addEventListener("click",d),c.addEventListener("click",(()=>{o.addEventListener("click",d),document.querySelector(".main__result").textContent="WINNER : ";for(let t of l)t.removeAttribute("data-icon"),t.classList.remove("blur"),t.classList.remove("win"),t.textContent="",r(0)}))})();