(()=>{"use strict";function t(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}const e=["X","O"],n=["Indie Flower","Just Another Hand","Kalam","Chewy","Dekko","Short Stack"];let a=0,l=0;function o(t){a=t}const r=document.querySelector(".main__game-block"),i=document.querySelectorAll(".main__game-item"),s=Array.from(i),c=[s.slice(0,3),s.slice(3,6),s.slice(6,9)],u=document.querySelector(".main__btn");const d=e=>t(0,1)?e.toLowerCase():e;function m(s){if(!s.target.className.split(" ").includes("main__game-item")&&"P"!==s.target.tagName)return;if(s.target.getAttribute("data-icon")||s.target.parentNode.getAttribute("data-icon")){let t=s.target;return s.target.parentNode.getAttribute("data-icon")&&(t=s.target.parentNode),t.classList.add("blocked"),void setTimeout((()=>{t.classList.remove("blocked")}),1e3)}const u=t(0,n.length-1);s.target.style=`font-family : ${n[u]}`,s.target.setAttribute("data-icon",e[a]),s.target.innerHTML=`<p class="main__text ">${d(e[a])}</p>`,o(a?0:1),l++,function([t,e]){if(t){r.removeEventListener("click",m),document.querySelector(".main__result").textContent=e,i.forEach((t=>{t.classList.add("blur")}));for(let e=0;e<t.length;e++){const n=t[e];setTimeout((()=>{c[n[0]][n[1]].classList.add("win")}),200*e)}}}(function(t){let e=!1,n="WINNER : ";const a=new Set([t[0][0],t[1][1],t[2][2]]),o=new Set([t[0][2],t[1][1],t[2][0]]);for(let a=0,l=2;a<3;a++,l--){const l=new Set(t[a]),o=new Set([t[0][a],t[1][a],t[2][a]]);1!==l.size||l.has(null)||(e=[[a,0],[a,1],[a,2]],n+=`"${l.values().next().value}"`),1!==o.size||o.has(null)||(e=[[0,a],[1,a],[2,a]],n+=`"${o.values().next().value}"`)}return 1!==a.size||a.has(null)||(e=[[0,0],[1,1],[2,2]],n+=`"${a.values().next().value}"`),1!==o.size||o.has(null)||(e=[[0,2],[1,1],[2,0]],n+=`"${o.values().next().value}"`),9===l&&(console.log("ksldfjkldajfkdjflkdj"),e=!0,n="TIE"),n+="!!!",[e,n]}(c.map((t=>t.map((t=>t.getAttribute("data-icon")))))))}r.addEventListener("click",m),u.addEventListener("click",(()=>{r.addEventListener("click",m),document.querySelector(".main__result").textContent="WINNER : ";for(let t of i)t.removeAttribute("data-icon"),t.classList.remove("blur"),t.classList.remove("win"),t.textContent="",o(0)}))})();