(()=>{"use strict";function e(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}const t=["X","O"],n=["Indie Flower","Just Another Hand","Kalam","Chewy","Dekko","Short Stack"];let a=0,o=0;function r(e){a=e}const i=document.querySelector(".main__game-block"),l=document.querySelectorAll(".main__game-item"),s=Array.from(l),c=[s.slice(0,3),s.slice(3,6),s.slice(6,9)],u=document.querySelector(".main__btn");const d=t=>e(0,1)?t.toLowerCase():t;function m(s){if(!s.target.className.split(" ").includes("main__game-item")&&"P"!==s.target.tagName)return;if(s.target.getAttribute("data-icon")||s.target.parentNode.getAttribute("data-icon")){let e=s.target;return s.target.parentNode.getAttribute("data-icon")&&(e=s.target.parentNode),e.classList.add("blocked"),void setTimeout((()=>{e.classList.remove("blocked")}),1e3)}const u=e(0,n.length-1);s.target.style=`font-family : ${n[u]}`,s.target.setAttribute("data-icon",t[a]),s.target.innerHTML=`<p class="main__text ">${d(t[a])}</p>`,r(a?0:1),o++,function([e,t]){if(e){i.removeEventListener("click",m),document.querySelector(".main__result").textContent=t,l.forEach((e=>{e.classList.add("blur")}));for(let t=0;t<e.length;t++){const n=e[t];setTimeout((()=>{c[n[0]][n[1]].classList.add("win")}),200*t)}}}(function(e){let t=!1,n="WINNER : ";const a=new Set([e[0][0],e[1][1],e[2][2]]),r=new Set([e[0][2],e[1][1],e[2][0]]);for(let a=0,o=2;a<3;a++,o--){const o=new Set(e[a]),r=new Set([e[0][a],e[1][a],e[2][a]]);1!==o.size||o.has(null)||(t=[[a,0],[a,1],[a,2]],n+=`"${o.values().next().value}"`),1!==r.size||r.has(null)||(t=[[0,a],[1,a],[2,a]],n+=`"${r.values().next().value}"`)}return 1!==a.size||a.has(null)||(t=[[0,0],[1,1],[2,2]],n+=`"${a.values().next().value}"`),1!==r.size||r.has(null)||(t=[[0,2],[1,1],[2,0]],n+=`"${r.values().next().value}"`),console.log("file: CheckWin.js:51 ~ checkForWin ~ count:",o),9!==o||t||(t=!0,n="TIE"),n+="!!!",[t,n]}(c.map((e=>e.map((e=>e.getAttribute("data-icon")))))))}i.addEventListener("click",m),u.addEventListener("click",(()=>{i.addEventListener("click",m),document.querySelector(".main__result").textContent="WINNER : ";for(let e of l)e.removeAttribute("data-icon"),e.classList.remove("blur"),e.classList.remove("win"),e.textContent="",r(0),o=0}))})();