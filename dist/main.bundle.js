(()=>{"use strict";function e(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}const t=["X","O"],n=["Indie Flower","Just Another Hand","Kalam","Chewy","Dekko","Short Stack"];let a=0,l=0;function o(e){a=e}const r=document.querySelector(".main__game-block"),s=document.querySelectorAll(".main__game-item"),i=Array.from(s),c=[i.slice(0,3),i.slice(3,6),i.slice(6,9)],u=document.querySelector(".main__btn");const d=t=>e(0,1)?t.toLowerCase():t;function m(i){if(!i.target.className.split(" ").includes("main__game-item")&&"P"!==i.target.tagName)return;if(i.target.getAttribute("data-icon")||i.target.parentNode.getAttribute("data-icon")){let e=i.target;return i.target.parentNode.getAttribute("data-icon")&&(e=i.target.parentNode),e.classList.add("blocked"),void setTimeout((()=>{e.classList.remove("blocked")}),1e3)}const u=e(0,n.length-1);i.target.style=`font-family : ${n[u]}`,i.target.setAttribute("data-icon",t[a]),i.target.innerHTML=`<p class="main__text ">${d(t[a])}</p>`,o(a?0:1),l++,function([e,t]){if(e){r.removeEventListener("click",m),document.querySelector(".main__result").textContent=t,s.forEach((e=>{e.classList.add("blur")}));for(let t=0;t<e.length;t++){const n=e[t];setTimeout((()=>{c[n[0]][n[1]].classList.add("win")}),200*t)}}}(function(e){let t=!1,n="WINNER : ";const a=new Set([e[0][0],e[1][1],e[2][2]]),o=new Set([e[0][2],e[1][1],e[2][0]]);for(let a=0,l=2;a<3;a++,l--){const l=new Set(e[a]),o=new Set([e[0][a],e[1][a],e[2][a]]);1!==l.size||l.has(null)||(t=[[a,0],[a,1],[a,2]],n+=`"${l.values().next().value}"`),1!==o.size||o.has(null)||(t=[[0,a],[1,a],[2,a]],n+=`"${o.values().next().value}"`)}return 1!==a.size||a.has(null)||(t=[[0,0],[1,1],[2,2]],n+=`"${a.values().next().value}"`),1!==o.size||o.has(null)||(t=[[0,2],[1,1],[2,0]],n+=`"${o.values().next().value}"`),9!==l||t||(console.log("file: CheckWin.js:51 ~ checkForWin ~ resultIndexes:",t),console.log("ksldfjkldajfkdjflkdj"),t=!0,n="TIE"),n+="!!!",[t,n]}(c.map((e=>e.map((e=>e.getAttribute("data-icon")))))))}r.addEventListener("click",m),u.addEventListener("click",(()=>{r.addEventListener("click",m),document.querySelector(".main__result").textContent="WINNER : ";for(let e of s)e.removeAttribute("data-icon"),e.classList.remove("blur"),e.classList.remove("win"),e.textContent="",o(0)}))})();